{"componentChunkName":"component---src-pages-index-js","path":"/","result":{"data":{"allMarkdownRemark":{"edges":[{"node":{"frontmatter":{"title":"OCurrent","subtitle":"a workflow specification language written in OCaml"},"html":"<p>OCurrent allows you to specify a workflow / pipeline for keeping things\nup-to-date.</p>\n<p><img src=\"/pipeline.svg\" alt=\"Example OCurrent pipeline\"></p>\n<p>For example, the pipeline shown about fetches the head of a GitHub repository's\n<code>master</code> branch, builds it, runs the tests, and deploys the binary if the tests\npass. When a new commit is pushed, it runs the pipeline again.</p>\n<pre><code class=\"language-ocaml\">let pipeline ~repo () =\n  let src = Git.Local.head_commit repo in\n  let base = Docker.pull ~schedule:weekly \"ocaml/opam2\" in\n  let build ocaml_version =\n    let dockerfile =\n      let+ base = base in\n      dockerfile ~base ~ocaml_version\n    in\n    Docker.build ~label:ocaml_version ~pull:false ~dockerfile (`Git src) |>\n    Docker.tag ~tag:(Fmt.strf \"example-%s\" ocaml_version)\n  in\n  Current.all [\n    build \"4.07\";\n    build \"4.08\"\n  ]\n</code></pre>\n<p>Another use might be to keep the GitHub build status of each PR in your Git\nrepository showing the result of fetching, building and testing the PR's head\ncommit. If the head commit changes, the result must be recalculated.</p>\n<p>An OCurrent pipeline is written using an OCaml eDSL. When OCurrent evaluates it,\nit records the inputs used (e.g. the current set of open PRs and the head of\neach one), monitors them, and automatically recalculates when an input changes.</p>\n<p>The <a href=\"https://github.com/ocurrent/ocurrent/wiki\">OCurrent wiki</a> contains documentation and examples. In particular,\nyou might like to start by reading about the <a href=\"./examples\">example pipelines</a> or\nhow to <a href=\"https://github.com/ocurrent/ocurrent/wiki/Writing-plugins\">write your own plugins</a>.</p>\n<p>Larger uses of OCurrent include the <a href=\"https://github.com/ocurrent/docker-base-images\">OCaml Docker base image\nbuilder</a> and the <a href=\"https://github.com/ocurrent/ocaml-ci\">CI pipeline</a> for OCaml platform projects.</p>\n<hr class=\"copyright-div\">\n<div class=\"footer\">\nOCurrent is developed and maintained by OCaml Labs Consultancy and Tarides for\nuse in the OCaml open-source community.\n<p>Â© 2019, the OCurrent authors. Distributed under the <a href=\"https://github.com/ocurrent/ocurrent/blob/master/LICENSE\">Apache-2.0\nlicense</a>.</p>\n</div>"}}]}},"pageContext":{"isCreatedByStatefulCreatePages":true}}}